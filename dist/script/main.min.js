$(document).ready(function(){$("body").on("click",function(e){var a=".btn-burger, .nav";$(e.target).closest(a).length||($(".btn-burger").removeClass("active"),$(".nav").slideUp(300))}),$(".btn-burger").on("click",function(e){e.preventDefault(),$(this).toggleClass("active"),$(".nav").slideToggle(300)}),$(".salon__carousel").owlCarousel({items:1,lazyLoad:!0,dots:!0,nav:!0});var e=1;$(".salon__carousel .owl-dot").each(function(){$(this).find("span").text("0"+e),e++}),$(".more__btn-wrap").on("click",function(e){$(".more__btn-wrap").removeClass("active"),$(this).addClass("active")}),$(".more__carousel").owlCarousel({items:1,lazyLoad:!0,dots:!0,nav:!0}),$(".testimonials__carousel").owlCarousel({items:1,lazyLoad:!0,dots:!0,nav:!0}),$(".testimonials__carousel .owl-dot").each(function(){$(this).find("span").text("0"+e),e++}),$(".btn-video").on("click",function(e){e.preventDefault(),$(this).hasClass("btn_play")?$(this).removeClass("btn_play").addClass("btn_pause"):$(this).removeClass("btn_pause").addClass("btn_play")})}),function(){$(function(){var e=$(window),a=$("body"),t=[],r=null,o=0,n=0,s=0,l=0,i=0,c=0,u=0,p=[{wrapper:"#header",duration:"20%",animations:[{selector:".logotype__img-0",translateY:200,opacity:[1,0],scale:.5},{selector:".logotype__img-1",translateY:200,opacity:[1,0],scale:.5},{selector:".logotype__img-2",translateY:100,opacity:[1,.75]},{selector:".register__img-0",translateY:"-20%"},{selector:".register__img-1",opacity:[1,0],scale:0}]},{wrapper:"#explosion",duration:"150%",animations:[{selector:".dei-1",translateY:"-15%",translateX:"-10%",opacity:[1,0],scale:2},{selector:".dei-2",translateY:"-5%",translateX:"-4%",opacity:[1,0]},{selector:".dei-3",translateY:"-9%",translateX:"2%",opacity:[1,0],scale:1.2},{selector:".dei-4",translateY:"-17%",translateX:"8%",opacity:[1,0],scale:1.5},{selector:".dei-5",translateY:"-2%",translateX:"-15%",opacity:[1,0],scale:2},{selector:".dei-6",translateY:"-1%",translateX:"-7%",opacity:[1,0],scale:1.2},{selector:".dei-7",translateY:"-4%",translateX:"2%",opacity:[1,0],scale:1.1},{selector:".dei-8",translateY:"-3%",translateX:"12%",opacity:[1,0],scale:1.8},{selector:".dei-9",translateY:"3%",translateX:"-12%",opacity:[1,0],scale:1.5},{selector:".dei-10",translateY:"5%",translateX:"-4%",opacity:[1,0]},{selector:".dei-11",translateY:"8%",translateX:"6%",opacity:[1,0],scale:1.4},{selector:".dei-12",translateY:"1%",translateX:"20%",opacity:[1,0],scale:1.9},{selector:".dei-13",translateY:"8%",translateX:"-12%",opacity:[1,0],scale:1.8},{selector:".dei-14",translateY:"4%",translateX:"-3%",opacity:[1,0],scale:1.3},{selector:".dei-15",translateY:"14%",translateX:"5%",opacity:[1,0],scale:1.7},{selector:".dei-16",translateY:"6%",translateX:"9%",opacity:[1,0],scale:2}]},{wrapper:"#explosion",duration:"100%",animations:[{selector:".explosion-byline",translateY:["-25%","-40%"],opacity:[1,0]}]},{wrapper:"#images",duration:"150%",animations:[{selector:".images-byline",translateY:"-25%",opacity:[0,1.75]},{selector:"#mediumHomepage",translateY:"-90%"},{selector:".iphone",translateY:"-66%"}]},{wrapper:"#images",duration:"75%",animations:[]},{wrapper:"#images",duration:"150%",animations:[{selector:".images-byline",translateY:["-25%","-25%"],scale:.7,opacity:[1.75,-.75]},{selector:".images-byline-2",opacity:[0,1],translateY:"-15%"},{selector:"#mediumHomepage",translateY:["-90%","-90%"],scale:.8,opacity:-.75},{selector:".iphone",translateY:["-66%","-90%"],translateX:"-2%",rotate:-90,scale:1.3},{selector:"#medium-profile-iphone",scale:.9,translateX:"20%"},{selector:"#davegamache-dot-com",scale:[.5,1]}]},{wrapper:"#images",duration:"40%",animations:[]},{wrapper:"#images",duration:"150%",animations:[{selector:".images-byline-2",opacity:[1,.5],translateY:["-15%","50%"],opacity:[1,-2]},{selector:".iphone",translateY:["-90%","5%"],translateX:["-2%","-2%"],rotate:[-90,-90],scale:[1.3,1.3]},{selector:"#medium-profile-iphone",translateX:["20%","20%"]},{selector:"#davegamache-dot-com",scale:[1,1]}]},{wrapper:"#links",duration:"100%",animations:[{selector:"#links",opacity:[0,2],scale:[.8,1]},{selector:".twitter",opacity:[0,1]}]},{duration:"100%",animations:[]}];init=function(){scrollIntervalID=setInterval(updatePage,10),setupValues(),e.resize(throwError),isTouchDevice&&e.resize(throwError)},setupValues=function(){i=e.scrollTop(),n=e.height(),s=e.width(),convertAllPropsToPx(),buildPage()},buildPage=function(){var n,s;for(n=0;n<p.length;n++)for(o+=p[n].duration,$.inArray(p[n].wrapper,t)==-1&&t.push(p[n].wrapper),s=0;s<p[n].animations.length;s++)Object.keys(p[n].animations[s]).forEach(function(e){if(value=p[n].animations[s][e],"selector"!==e&&value instanceof Array==!1){var a=[];a.push(getDefaultPropertyValue(e),value),value=a}p[n].animations[s][e]=value});a.height(o),e.scroll(0),r=t[0],$(r).show()},convertAllPropsToPx=function(){var e,a,t;for(e=0;e<p.length;e++)for(p[e].duration=convertPercentToPx(p[e].duration,"y"),a=0;a<p[e].animations.length;a++)Object.keys(p[e].animations[a]).forEach(function(r){if(value=p[e].animations[a][r],"selector"!==r){if(value instanceof Array)for(t=0;t<value.length;t++)"string"==typeof value[t]&&("translateY"===r?value[t]=convertPercentToPx(value[t],"y"):value[t]=convertPercentToPx(value[t],"x"));else"string"==typeof value&&("translateY"===r?value=convertPercentToPx(value,"y"):value=convertPercentToPx(value,"x"));p[e].animations[a][r]=value}})},getDefaultPropertyValue=function(e){switch(e){case"translateX":return 0;case"translateY":return 0;case"scale":return 1;case"rotate":return 0;case"opacity":return 1;default:return null}},updatePage=function(){window.requestAnimationFrame(function(){setScrollTops(),i>0&&i<=o-n&&(animateElements(),setKeyframe())})},setScrollTops=function(){i=e.scrollTop(),c=i-l},animateElements=function(){for(var e,a,t,r,o,n,s=0;s<p[u].animations.length;s++)e=p[u].animations[s],a=calcPropValue(e,"translateY"),t=calcPropValue(e,"translateX"),r=calcPropValue(e,"scale"),o=calcPropValue(e,"rotate"),n=calcPropValue(e,"opacity"),$(e.selector).css({transform:"translate3d("+t+"px, "+a+"px, 0) scale("+r+") rotate("+o+"deg)",opacity:n})},calcPropValue=function(e,a){var t=e[a];return t=t?easeInOutQuad(c,t[0],t[1]-t[0],p[u].duration):getDefaultPropertyValue(a)},easeInOutQuad=function(e,a,t,r){return-t/2*(Math.cos(Math.PI*e/r)-1)+a},setKeyframe=function(){i>p[u].duration+l?(l+=p[u].duration,u++,showCurrentWrappers()):i<l&&(u--,l-=p[u].duration,showCurrentWrappers())},showCurrentWrappers=function(){p[u].wrapper!=r&&($(r).hide(),$(p[u].wrapper).show(),r=p[u].wrapper)},convertPercentToPx=function(e,a){return"string"==typeof e&&e.match(/%/g)&&("y"===a&&(e=parseFloat(e)/100*n),"x"===a&&(e=parseFloat(e)/100*s)),e},throwError=function(){a.addClass("page-error")},isTouchDevice=function(){return"ontouchstart"in window||"onmsgesturechange"in window},init()})}.call(this);